---
layout: page
title: Static Site Components
page_sections:
  - slug: header
    bg_color: light
    alignment: pinned
    content_blocks:
      - _component_type: nav
        logo:
          image: /assets/me.png
          alt: 'Me, but angry'
        links:
          - title: TOML
            href: '#toml-anatomy'
          - title: Usage
            href: '#usage'
          - title: Deep Dive
            href: '#links'
      - _component_type: header
        title: Static Site Components
        bg: true
  - slug: what-is-a-component
    bg_color: white
    alignment: center
    content_blocks:
      - _component_type: info
        bg: true
        left: false
        text_markdown: What is a component?
  - slug: example-components
    bg_color: white
    alignment: center
    content_blocks:
      - _component_type: only-piccy
        image: /uploads/example-components.png
        alt: Example components from the CloudCannon marketing website library
  - slug: what-is-storybook
    bg_color: white
    alignment: center
    content_blocks:
      - _component_type: info
        bg: true
        left: false
        text_markdown: >-
          Storybook is an open source tool for developing UI components in
          isolation for ***React, Vue, Angular***, and more
  - slug: show-storybook
    bg_color: dark
    alignment: center
    content_blocks:
      - _component_type: piccy
        flip: false
        pin_to_width: false
        text_markdown: >-
          Learn with your eyes? [Check one
          out\!](https://smart-oasis.cloudvent.net/){: target="_blank"
          rel="noopener"}
        pic:
          image: /uploads/screen-shot-2020-11-27-at-9-18-23-am.png
          alt: An old storybook for the marketing website
  - slug: design-pyramid
    bg_color: white
    alignment: center
    content_blocks:
      - _component_type: only-piccy
        image: /uploads/component-pyramid.svg
        alt: >-
          Component pyramid - matching the design and development flow to match
          a component design structure
  - slug: first-steps
    bg_color: white
    alignment: center
    content_blocks:
      - _component_type: info
        bg: true
        left: false
        text_markdown: >-
          The first step was writing a bunch of Storybook helpers to render
          Jekyll includes inside Storybook.
  - slug: Flow chart old
    bg_color: white
    alignment: center
    content_blocks:
      - _component_type: info
        bg: false
        left: false
        text_markdown: "Previously: A hassle \U0001F97A"
      - _component_type: only-piccy
        image: /uploads/flowchartbefore.svg
        alt: >-
          Powering the storybook used to be seperate from powering the website,
          and thus could become unmaintained
  - slug: csf-example
    bg_color: dark
    alignment: center
    content_blocks:
      - _component_type: codey
        code_block: >-
          button.stories.js

          import { storiesOf, addDecorator } from '@storybook/svelte';

          import { withKnobs, text, boolean, number, select } from
          '@storybook/addon-knobs';

          import { Meta, Story, Props } from '@storybook/addon-docs/blocks';

          import { jekyll, wrap, getComponent } from
          'Helpers/html-in-svelte.js';


          const component = getComponent("button");


          const label = "Types";

          const options = {
            Red: 'red',
            White: 'white',
            Basic: 'basic',
          }

          const defaultValue = 'red';

          const groupId = 'Button Type';



          export default { 
            title: 'Subcomponents|Button',
            decorators: [
              withKnobs
            ]
          };


          export const standard = () => (jekyll({
            component,
            props: {
              text: text("Text", "Test Button",),
              type: select(label, options, defaultValue, groupId),
              caps: boolean('Capitalized', true),
              wide: boolean('Wide', true),
            }
          }))
  - slug: bookshop-intro
    bg_color: white
    alignment: center
    content_blocks:
      - _component_type: info
        bg: true
        left: false
        text_markdown: >-
          To solve many of the headaches, we embarked on
          [Bookshop](https://github.com/cloudcannon/bookshop){: target="_blank"
          rel="noopener"}.
  - slug: benefits
    bg_color: dark
    alignment: center
    content_blocks:
      - _component_type: info
        bg: false
        left: true
        text_markdown: |-
          Bookshop Benefits

          * Write one TOML file to power everything
          * Use the exact same files everywhere
          * Colocate components
          * Push Storybook further

          &nbsp;
  - slug: Flow chart new
    bg_color: white
    alignment: center
    content_blocks:
      - _component_type: info
        bg: false
        left: false
        text_markdown: Bookshop powers both from the same file âœ¨
      - _component_type: only-piccy
        image: /uploads/flowchartafter.svg
        alt: >-
          Bookshop uses the same TOML file to power both the website and the
          storybook
  - slug: full-flowchart
    bg_color: white
    alignment: center
    content_blocks:
      - _component_type: only-piccy
        image: /uploads/toml-flowchart.svg
        alt: >-
          Full component flowchart, powering Storybook, CloudCannon, and the
          Website
  - slug: toml-anatomy
    bg_color: light
    alignment: center
    content_blocks:
      - _component_type: codey
        code_block: |-
          Anatomy of a TOML file

          [meta]      # CloudCannon Specific config

          [defaults]  # Main component props

          [standard]  # The primary "story"

          [variants]  # Alternative stories
  - slug: rewrite
    bg_color: dark
    alignment: center
    content_blocks:
      - _component_type: codey
        code_block: >-
          button.stories.js


          // Rewrite me, please!


          import { storiesOf, addDecorator } from '@storybook/svelte';

          import { withKnobs, text, boolean, number, select } from
          '@storybook/addon-knobs';

          import { Meta, Story, Props } from '@storybook/addon-docs/blocks';

          import { jekyll, wrap, getComponent } from
          'Helpers/html-in-svelte.js';


          const component = getComponent("button");


          const label = "Types";

          const options = {
            Red: 'red',
            White: 'white',
            Basic: 'basic',
          }

          const defaultValue = 'red';

          const groupId = 'Button Type';



          export default { 
            title: 'Subcomponents|Button',
            decorators: [
              withKnobs
            ]
          };


          export const standard = () => (jekyll({
            component,
            props: {
              text: text("Text", "Test Button",),
              type: select(label, options, defaultValue, groupId),
              caps: boolean('Capitalized', true),
              wide: boolean('Wide', true),
            }
          }))
  - slug: not-colocated
    bg_color: white
    alignment: center
    content_blocks:
      - _component_type: only-piccy
        image: /uploads/not-colocated.svg
        alt: Files organised into folders by filetype
      - _component_type: info
        bg: true
        left: false
        text_markdown: >-
          Previously, we had files defining the component scattered across a
          repo.
  - slug: colocated
    bg_color: light
    alignment: center
    content_blocks:
      - _component_type: only-piccy
        image: /uploads/colocated.svg
        alt: Files organised into folders by component
      - _component_type: info
        bg: true
        left: false
        text_markdown: Bookshop kindly asks you to colocate your component files together.
  - slug: usage
    bg_color: white
    alignment: center
    content_blocks:
      - _component_type: info
        bg: false
        left: false
        text_markdown: Using components
      - _component_type: codey
        code_block: >-
          site/index.html

          Old:

          {% include components/button.html type=page.button.type
          href=page.button.href icon=page.button.icon wide=page.button.wide
          text=page.button.text %}


          New:

          {% component button bind=page.button %}
  - slug: links
    bg_color: white
    alignment: center
    content_blocks:
      - _component_type: piccy
        flip: true
        pin_to_width: true
        text_markdown: >-
          Want a deeper dive? Dig into this all hands'
          [Figma](https://www.figma.com/file/lITZjrN8OOR81YR2YShnnz/Static-Site-Components?node-id=1%3A2){:
          target="_blank" rel="noopener"},
          [Github](https://github.com/bglw/static-site-components-all-hands){:
          target="_blank" rel="noopener"}, and
          [Storybook](https://aqua-maple.cloudvent.net/){: target="_blank"
          rel="noopener"}\!


          If you're in the office, you can find this website at
          [go/beans](http://go/beans), otherwise on
          [pretty-squash](https://pretty-squash.cloudvent.net/).
        pic:
          image: /uploads/links.png
          alt: 'Figma, Github, and Storybook logos'
---

<div class="l-page">
{% for section in page.page_sections %}
  <div id="{{section.slug}}" class="l-section l-section--{{section.bg_color}} l-section--{{section.alignment}}">
    <div class="l-section__inner">
    {% for block in section.content_blocks %}
      <div class="l-component">
      	{% component {{block._component_type}} bind=block %}
      </div>
    {% endfor %}
    </div>
  </div>
{% endfor %}
</div>