---
layout: page
title: Static Site Components
page_sections:
  - slug: header
    bg_color: light
    alignment: pinned
    content_blocks:
      - _component_type: nav
        logo:
          image: /assets/me.png
          alt: 'Me, but angry'
        links:
          - title: About
            href: '#tree'
          - title: The
            href: '#tree'
          - title: TOML
            href: '#toml-anatomy'
      - _component_type: header
        title: Static Site Components
        bg: true
  - slug: what-is-storybook
    bg_color: white
    alignment: center
    content_blocks:
      - _component_type: info
        bg: true
        text_markdown: >-
          Storybook is an open source tool for developing UI components in
          isolation for ***React, Vue, Angular***, and more
  - slug: show-storybook
    bg_color: dark
    alignment: center
    content_blocks:
      - _component_type: piccy
        flip: false
        text_markdown: >-
          Learn with your eyes? [Check out the storybook for this
          website\!](https://aqua-maple.cloudvent.net/){: target="_blank"
          rel="noopener"}
        pic:
          image: /uploads/screen-shot-2020-11-26-at-9-58-04-pm.png
          alt: The storybook for this website
  - slug: Flow chart old
    bg_color: white
    alignment: center
    content_blocks:
      - _component_type: info
        bg: false
        text_markdown: "Previously: A hassle \U0001F97A"
      - _component_type: only-piccy
        image: /uploads/flowchartbefore.svg
        alt: >-
          Powering the storybook used to be seperate from powering the website,
          and thus could become unmaintained
  - slug: csf-example
    bg_color: dark
    alignment: center
    content_blocks:
      - _component_type: codey
        code_block: >-
          button.stories.csf

          import { storiesOf, addDecorator } from '@storybook/svelte';

          import { withKnobs, text, boolean, number, select } from
          '@storybook/addon-knobs';

          import { Meta, Story, Props } from '@storybook/addon-docs/blocks';

          import { jekyll, wrap, getComponent } from
          'Helpers/html-in-svelte.js';


          const component = getComponent("button");


          const label = "Types";

          const options = {
            Red: 'red',
            White: 'white',
            Basic: 'basic',
          }

          const defaultValue = 'red';

          const groupId = 'Button Type';



          export default { 
            title: 'Subcomponents|Button',
            decorators: [
              withKnobs
            ]
          };


          export const standard = () => (jekyll({
            component,
            props: {
              text: text("Text", "Test Button",),
              type: select(label, options, defaultValue, groupId),
              caps: boolean('Capitalized', true),
              wide: boolean('Wide', true),
            }
          }))
  - slug: Flow chart new
    bg_color: white
    alignment: center
    content_blocks:
      - _component_type: info
        bg: false
        text_markdown: Bookshop powers both from the same file âœ¨
      - _component_type: only-piccy
        image: /uploads/flowchartafter.svg
        alt: >-
          Bookshop uses the same TOML file to power both the website and the
          storybook
  - slug: toml-anatomy
    bg_color: light
    alignment: center
    content_blocks:
      - _component_type: codey
        code_block: |-
          Anatomy of a TOML file

          [meta]      # CloudCannon Specific config

          [defaults]  # Main component props

          [standard]  # The primary "story"

          [variants]  # Alternative stories
  - slug: rewrite
    bg_color: dark
    alignment: center
    content_blocks:
      - _component_type: codey
        code_block: >-
          button.stories.csf


          // Rewrite me, please!


          import { storiesOf, addDecorator } from '@storybook/svelte';

          import { withKnobs, text, boolean, number, select } from
          '@storybook/addon-knobs';

          import { Meta, Story, Props } from '@storybook/addon-docs/blocks';

          import { jekyll, wrap, getComponent } from
          'Helpers/html-in-svelte.js';


          const component = getComponent("button");


          const label = "Types";

          const options = {
            Red: 'red',
            White: 'white',
            Basic: 'basic',
          }

          const defaultValue = 'red';

          const groupId = 'Button Type';



          export default { 
            title: 'Subcomponents|Button',
            decorators: [
              withKnobs
            ]
          };


          export const standard = () => (jekyll({
            component,
            props: {
              text: text("Text", "Test Button",),
              type: select(label, options, defaultValue, groupId),
              caps: boolean('Capitalized', true),
              wide: boolean('Wide', true),
            }
          }))
  - slug: not-colocated
    bg_color: white
    alignment: center
    content_blocks:
      - _component_type: only-piccy
        image: /uploads/not-colocated.svg
        alt: Files organised into folders by filetype
      - _component_type: info
        bg: true
        text_markdown: >-
          Previously, we had files defining the component scattered across a
          repo.
  - slug: colocated
    bg_color: light
    alignment: center
    content_blocks:
      - _component_type: only-piccy
        image: /uploads/colocated.svg
        alt: Files organised into folders by component
      - _component_type: info
        bg: true
        text_markdown: Bookshop kindly asks you to colocate your component files together.
  - slug: using-components-code
    bg_color: white
    alignment: center
    content_blocks:
      - _component_type: info
        bg: false
        text_markdown: Using components
      - _component_type: codey
        code_block: >-
          Old:

          {% include components/button.html type=page.button.type
          href=page.button.href icon=page.button.icon wide=page.button.wide
          text=page.button.text %}


          New:

          {% component button bind=page.button %}
---

<div class="l-page">
{% for section in page.page_sections %}
  <div id="{{section.slug}}" class="l-section l-section--{{section.bg_color}} l-section--{{section.alignment}}">
    <div class="l-section__inner">
    {% for block in section.content_blocks %}
      <div class="l-component">
      	{% component {{block._component_type}} bind=block %}
      </div>
    {% endfor %}
    </div>
  </div>
{% endfor %}
</div>